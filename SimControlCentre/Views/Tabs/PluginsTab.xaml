<UserControl x:Class="SimControlCentre.Views.Tabs.PluginsTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <StackPanel>
        <!-- GoXLR Plugin -->
        <GroupBox Header="GoXLR Plugin" Padding="15" Margin="0,0,0,15">
            <StackPanel>
                <!-- Plugin Enable/Disable -->
                <CheckBox x:Name="EnableGoXlrPluginCheckBox"
                          Content="Enable GoXLR Plugin"
                          FontWeight="SemiBold"
                          Checked="PluginEnabled_Changed"
                          Unchecked="PluginEnabled_Changed"
                          Tag="goxlr"
                          Margin="0,0,0,10"/>
                
                <TextBlock TextWrapping="Wrap"
                           Foreground="Gray"
                           FontSize="11"
                           Margin="0,0,0,15">
                    <Run Text="Provides lighting control and device management for GoXLR and GoXLR Mini."/>
                    <LineBreak/>
                    <Run Text="Requires GoXLR Utility to be running."/>
                </TextBlock>

                <!-- Plugin Components Section (shown when enabled) -->
                <Border x:Name="GoXlrComponentsPanel"
                        BorderBrush="#E0E0E0"
                        BorderThickness="1"
                        Background="#F9F9F9"
                        Padding="10"
                        CornerRadius="4"
                        Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock Text="Plugin Components:"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,10"/>
                        
                        <!-- Lighting Component -->
                        <StackPanel Margin="0,0,0,10">
                            <CheckBox x:Name="EnableLightingComponentCheckBox"
                                      Content="Lighting"
                                      FontWeight="SemiBold"
                                      Checked="ComponentEnabled_Changed"
                                      Unchecked="ComponentEnabled_Changed"
                                      Tag="lighting"
                                      Margin="0,0,0,5"/>
                            
                            <TextBlock Text="Controls GoXLR button colors based on iRacing flags. Configure buttons in the Lighting tab."
                                       TextWrapping="Wrap"
                                       Foreground="Gray"
                                       FontSize="11"
                                       Margin="20,0,0,0"/>
                        </StackPanel>

                        <!-- Device Control Component -->
                        <StackPanel Margin="0,0,0,0">
                            <CheckBox x:Name="EnableDeviceControlComponentCheckBox"
                                      Content="Device Control"
                                      FontWeight="SemiBold"
                                      Checked="ComponentEnabled_Changed"
                                      Unchecked="ComponentEnabled_Changed"
                                      Tag="device_control"
                                      Margin="0,0,0,5"/>
                            
                            <TextBlock Text="Provides profile switching, volume control, and channel muting via hotkeys."
                                       TextWrapping="Wrap"
                                       Foreground="Gray"
                                       FontSize="11"
                                       Margin="20,0,0,0"/>
                        </StackPanel>
                        
                        <!-- Warning when no components enabled -->
                        <TextBlock x:Name="NoComponentsWarning"
                                   Text="At least one component must be enabled for the plugin to function."
                                   TextWrapping="Wrap"
                                   Foreground="#D32F2F"
                                   FontSize="11"
                                   Margin="0,10,0,0"
                                   Visibility="Collapsed"/>
                    </StackPanel>
                </Border>

                <!-- Disabled State Message -->
                <TextBlock x:Name="GoXlrDisabledMessage"
                           Text="Enable the plugin to see available components and settings."
                           TextWrapping="Wrap"
                           Foreground="Gray"
                           FontStyle="Italic"
                           FontSize="11"
                           Margin="0,5,0,0"
                           Visibility="Visible"/>
            </StackPanel>
        </GroupBox>

        <!-- Info Panel -->
        <Border Background="#E3F2FD" 
                BorderBrush="#2196F3" 
                BorderThickness="1" 
                CornerRadius="4" 
                Padding="12"
                Margin="0,10,0,0">
            <StackPanel>
                <TextBlock FontWeight="SemiBold" Foreground="#1976D2" Margin="0,0,0,5">
                    About Plugins
                </TextBlock>
                <TextBlock TextWrapping="Wrap" Foreground="#1976D2" FontSize="11">
                    Plugins extend SimControlCentre with support for different devices and features. Each plugin can be enabled or disabled independently.
                </TextBlock>
            </StackPanel>
        </Border>
    </StackPanel>
</UserControl>
