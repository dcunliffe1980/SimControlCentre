<UserControl x:Class="SimControlCentre.Views.Tabs.PluginsTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <!-- Title -->
            <TextBlock Text="Plugins" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Margin="0,0,0,10"/>
            
            <TextBlock Text="Manage plugins that extend SimControlCentre functionality"
                       TextWrapping="Wrap"
                       Foreground="Gray"
                       FontSize="12"
                       Margin="0,0,0,20"/>

            <!-- GoXLR Plugin -->
            <GroupBox Header="GoXLR Plugin" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <!-- Plugin Enable/Disable -->
                    <CheckBox x:Name="EnableGoXlrPluginCheckBox"
                              Content="Enable GoXLR Plugin"
                              FontWeight="SemiBold"
                              Checked="PluginEnabled_Changed"
                              Unchecked="PluginEnabled_Changed"
                              Tag="goxlr"
                              Margin="0,0,0,10"/>
                    
                    <TextBlock TextWrapping="Wrap"
                               Foreground="Gray"
                               FontSize="11"
                               Margin="0,0,0,15">
                        <Run Text="Provides lighting control and device management for GoXLR and GoXLR Mini."/>
                        <LineBreak/>
                        <Run Text="Requires GoXLR Utility to be running."/>
                    </TextBlock>

                    <!-- Plugin Components Section (shown when enabled) -->
                    <Border x:Name="GoXlrComponentsPanel"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            Background="#F9F9F9"
                            Padding="10"
                            CornerRadius="4"
                            Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock Text="Plugin Components:"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,10"/>
                            
                            <!-- Lighting Component -->
                            <StackPanel Margin="0,0,0,10">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock Text="? " 
                                               Foreground="#4CAF50" 
                                               FontSize="14"
                                               VerticalAlignment="Center"
                                               Grid.Column="0"/>
                                    
                                    <TextBlock Text="Lighting (Flag-based)" 
                                               FontWeight="SemiBold"
                                               VerticalAlignment="Center"
                                               Grid.Column="1"/>
                                </Grid>
                                
                                <TextBlock Text="Controls GoXLR button colors based on iRacing flags. Configure buttons in the Lighting tab."
                                           TextWrapping="Wrap"
                                           Foreground="Gray"
                                           FontSize="11"
                                           Margin="15,5,0,0"/>
                            </StackPanel>

                            <!-- Device Control Component (Future) -->
                            <StackPanel Margin="0,0,0,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock Text="? " 
                                               Foreground="Gray" 
                                               FontSize="14"
                                               VerticalAlignment="Center"
                                               Grid.Column="0"/>
                                    
                                    <TextBlock Grid.Column="1">
                                        <Run Text="Device Control " FontWeight="SemiBold"/>
                                        <Run Text="(Coming Soon)" Foreground="Gray" FontStyle="Italic"/>
                                    </TextBlock>
                                </Grid>
                                
                                <TextBlock Text="Will provide profile switching and channel control via hotkeys."
                                           TextWrapping="Wrap"
                                           Foreground="Gray"
                                           FontSize="11"
                                           Margin="15,5,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Disabled State Message -->
                    <TextBlock x:Name="GoXlrDisabledMessage"
                               Text="Enable the plugin to see available components and settings."
                               TextWrapping="Wrap"
                               Foreground="Gray"
                               FontStyle="Italic"
                               FontSize="11"
                               Margin="0,5,0,0"
                               Visibility="Visible"/>
                </StackPanel>
            </GroupBox>

            <!-- Future Plugins Section -->
            <GroupBox Header="Additional Plugins (Coming Soon)" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock TextWrapping="Wrap"
                               Foreground="Gray"
                               FontSize="11">
                        <Run Text="Future versions will support additional lighting and device control plugins:"/>
                        <LineBreak/><LineBreak/>
                        <Run Text="- Philips Hue" FontWeight="SemiBold"/>
                        <Run Text=" - Smart lighting control"/>
                        <LineBreak/>
                        <Run Text="- Nanoleaf" FontWeight="SemiBold"/>
                        <Run Text=" - RGB panel lighting"/>
                        <LineBreak/>
                        <Run Text="- Elgato Stream Deck" FontWeight="SemiBold"/>
                        <Run Text=" - Button control and visual feedback"/>
                        <LineBreak/>
                        <Run Text="- LIFX" FontWeight="SemiBold"/>
                        <Run Text=" - Smart bulb integration"/>
                    </TextBlock>
                </StackPanel>
            </GroupBox>

            <!-- Info Panel -->
            <Border Background="#E3F2FD" 
                    BorderBrush="#2196F3" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="12"
                    Margin="0,10,0,0">
                <StackPanel>
                    <TextBlock FontWeight="SemiBold" Foreground="#1976D2" Margin="0,0,0,5">
                        [i] About Plugins
                    </TextBlock>
                    <TextBlock TextWrapping="Wrap" Foreground="#1976D2" FontSize="11">
                        Plugins extend SimControlCentre with support for different devices and features. Each plugin can be enabled or disabled independently. Some features may require a restart to take effect.
                    </TextBlock>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>
