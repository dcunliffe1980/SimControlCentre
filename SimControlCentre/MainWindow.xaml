<Window x:Class="SimControlCentre.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SimControlCentre"
        mc:Ignorable="d"
        Title="SimControlCentre - Settings" Height="700" Width="900"
        MinHeight="500" MinWidth="700">
    <Grid>
        <TabControl Margin="10">
            <!-- General Settings Tab -->
            <TabItem Header="General">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <TextBlock Text="General Settings" 
                                   FontSize="20" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,20"/>
                        
                        <!-- GoXLR Configuration -->
                        <GroupBox Header="GoXLR Configuration" Margin="0,0,0,20" Padding="10">
                            <StackPanel>
                                <TextBlock Text="Serial Number:" Margin="0,0,0,5"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBox Name="SerialNumberBox" 
                                             Grid.Column="0"
                                             Padding="5"
                                             Margin="0,0,5,0"/>
                                    
                                    <Button Name="DetectSerialBtn" 
                                            Grid.Column="1"
                                            Content="Detect" 
                                            Click="DetectSerial_Click"
                                            Padding="10,5"
                                            ToolTip="Auto-detect serial number from GoXLR Utility"/>
                                </Grid>
                                
                                <Button Name="SaveSerialBtn" 
                                        Content="Save Serial Number" 
                                        Click="SaveSerial_Click"
                                        Padding="10,5"
                                        Margin="0,10,0,10"/>
                                
                                <TextBlock Name="ConnectionStatusText" 
                                           Text="Connection Status: Unknown" 
                                           Foreground="Gray"
                                           Margin="0,0,0,5"/>
                                
                                <Button Name="TestConnectionBtn" 
                                        Content="Test Connection" 
                                        Click="TestConnection_Click"
                                        Padding="10,5"/>
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- Volume Settings -->
                        <GroupBox Header="Volume Settings" Margin="0,0,0,20" Padding="10">
                            <StackPanel>
                                <TextBlock Text="Volume Step (0-255):" Margin="0,0,0,5"/>
                                <TextBox Name="VolumeStepBox" 
                                         Text="10"
                                         Padding="5"
                                         Margin="0,0,0,10"/>
                                
                                <TextBlock Text="Volume Cache Time (ms):" Margin="0,0,0,5"/>
                                <TextBox Name="CacheTimeBox" 
                                         Text="5000"
                                         Padding="5"
                                         Margin="0,0,0,10"/>
                                
                                <Button Name="SaveVolumeSettingsBtn" 
                                        Content="Save Volume Settings" 
                                        Click="SaveVolumeSettings_Click"
                                        Padding="10,5"/>
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- General Settings -->
                        <GroupBox Header="General Settings" Padding="10" Margin="0,0,0,20">
                            <StackPanel>
                                <CheckBox Name="StartMinimizedCheckBox"
                                         Content="Start application minimized to system tray"
                                         IsChecked="{Binding Window.StartMinimized, Mode=TwoWay}"
                                         Margin="0,0,0,10"/>
                                
                                <CheckBox Name="StartWithWindowsCheckBox"
                                         Content="Start application with Windows"
                                         Checked="StartWithWindows_Changed"
                                         Unchecked="StartWithWindows_Changed"
                                         Margin="0,0,0,0"/>
                                
                                <TextBlock Text="The application will start automatically when Windows starts"
                                          FontSize="10"
                                          Foreground="Gray"
                                          Margin="20,5,0,0"/>
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- Quick Actions -->
                        <GroupBox Header="Quick Actions" Padding="10">
                            <StackPanel>
                                <Button Name="TestGoXLRBtn" 
                                        Content="Open GoXLR Test Window" 
                                        Click="TestGoXLR_Click"
                                        Padding="10,5"
                                        Margin="0,0,0,10"/>
                                
                                <Button Name="ReloadHotkeysBtn" 
                                        Content="Reload Hotkeys" 
                                        Click="ReloadHotkeys_Click"
                                        Padding="10,5"/>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Hotkeys Tab -->
            <TabItem Header="Hotkeys">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <TextBlock Text="Hotkey Configuration" 
                                   FontSize="20" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,10"/>
                        
                        <TextBlock Text="You can assign keyboard keys OR controller buttons to each action"
                                   FontSize="11"
                                   Foreground="Gray"
                                   Margin="0,0,0,20"/>
                        
                        <!-- Volume Hotkeys -->
                        <GroupBox Header="Volume Hotkeys" Padding="10" Margin="0,0,0,20">
                            <StackPanel Name="VolumeHotkeysPanel">
                                <!-- Will be populated dynamically -->
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- Profile Hotkeys -->
                        <GroupBox Header="Profile Hotkeys" Padding="10">
                            <StackPanel Name="ProfileHotkeysPanel">
                                <!-- Will be populated dynamically -->
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- Save Button -->
                        <Button Name="SaveHotkeysBtn"
                                Content="Save All Hotkeys"
                                Click="SaveHotkeys_Click"
                                Padding="15,8"
                                Margin="0,20,0,0"
                                HorizontalAlignment="Center"
                                FontSize="14"
                                FontWeight="Bold"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Channels &amp; Profiles Tab -->
            <TabItem Header="Channels &amp; Profiles">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <TextBlock Text="Manage Channels &amp; Profiles" 
                                   FontSize="20" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,20"/>
                        
                        <!-- Channels -->
                        <GroupBox Header="GoXLR Channels" Padding="10" Margin="0,0,0,20">
                            <StackPanel>
                                <TextBlock Text="Select which channels you want to control:" 
                                           FontSize="11" 
                                           Foreground="Gray"
                                           Margin="0,0,0,10"/>
                                
                                <ItemsControl Name="ChannelsListBox"/>
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- Profiles -->
                        <GroupBox Header="GoXLR Profiles" Padding="10">
                            <StackPanel>
                                <TextBlock Text="Add profiles from GoXLR for hotkey assignment:" 
                                           FontSize="11" 
                                           Foreground="Gray"
                                           Margin="0,0,0,10"/>
                                
                                <TextBlock Name="ProfileStatusText"
                                           Text="Loading profiles..."
                                           Foreground="Gray"
                                           Margin="0,0,0,10"/>
                                
                                <!-- Add from dropdown -->
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                                    <TextBlock Text="Available Profiles:"
                                              VerticalAlignment="Center"
                                              Margin="0,0,10,0"/>
                                    <ComboBox Name="AvailableProfilesComboBox"
                                             Width="250"
                                             Margin="0,0,10,0"/>
                                    <Button Name="AddSelectedProfileBtn"
                                           Content="Add Selected Profile"
                                           Click="AddSelectedProfile_Click"
                                           Padding="10,5"/>
                                    <Button Name="RefreshProfilesBtn"
                                           Content="â†» Refresh"
                                           Click="RefreshProfilesList_Click"
                                           Padding="10,5"
                                           Margin="10,0,0,0"
                                           ToolTip="Reload profiles from GoXLR"/>
                                </StackPanel>
                                
                                <TextBlock Text="Configured Profiles:"
                                          FontWeight="Bold"
                                          Margin="0,0,0,5"/>
                                
                                <ItemsControl Name="ProfilesListBox">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border BorderBrush="LightGray"
                                                   BorderThickness="1"
                                                   Padding="8"
                                                   Margin="0,0,0,5"
                                                   Background="WhiteSmoke">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Text="{Binding}" 
                                                              FontWeight="Bold"
                                                              VerticalAlignment="Center"/>
                                                    <Button Grid.Column="1"
                                                           Content="Remove"
                                                           Click="RemoveProfile_Click"
                                                           Tag="{Binding}"
                                                           Padding="5,2"/>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                                
                                <Button Name="SaveChannelsProfilesBtn"
                                       Content="Save Changes"
                                       Click="SaveChannelsProfiles_Click"
                                       Padding="15,8"
                                       Margin="0,20,0,0"
                                       HorizontalAlignment="Center"
                                       FontSize="14"
                                       FontWeight="Bold"/>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Controllers Tab -->
            <TabItem Header="Controllers">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <TextBlock Text="Connected Controllers" 
                                   FontSize="20" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,20"/>
                        
                        <!-- Button Press Indicator -->
                        <Border BorderBrush="Gray" 
                                BorderThickness="2" 
                                CornerRadius="5"
                                Padding="15"
                                Margin="0,0,0,20"
                                Background="WhiteSmoke">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Button Press Indicator:" 
                                           VerticalAlignment="Center"
                                           FontWeight="Bold"
                                           Margin="0,0,10,0"/>
                                <Ellipse Name="ButtonIndicator"
                                         Width="30"
                                         Height="30"
                                         Fill="Gray"
                                         Stroke="DarkGray"
                                         StrokeThickness="2"/>
                                <TextBlock Name="ButtonIndicatorText"
                                           Text="No input detected"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"
                                           FontSize="12"
                                           Foreground="Gray"/>
                            </StackPanel>
                        </Border>
                        
                        <TextBlock Text="Controller buttons can be assigned in the Hotkeys tab"
                                   FontSize="11"
                                   Foreground="Gray"
                                   Margin="0,0,0,20"/>
                        
                        <GroupBox Header="Detected Devices" Padding="10">
                            <StackPanel>
                                <TextBlock Name="ControllerStatusText2" 
                                           Text="Scanning..." 
                                           Foreground="Gray"
                                           Margin="0,0,0,10"/>
                                
                                <ItemsControl Name="ControllersListBox2">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border BorderBrush="LightGray" 
                                                    BorderThickness="1" 
                                                    Padding="8" 
                                                    Margin="0,0,0,5"
                                                    Background="WhiteSmoke">
                                                <StackPanel>
                                                    <TextBlock Text="{Binding Name}" 
                                                               FontWeight="Bold" 
                                                               FontSize="12"/>
                                                    <TextBlock Text="{Binding Type}" 
                                                               FontSize="10" 
                                                               Foreground="Gray"/>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                                
                                <Button Name="RefreshControllersBtn2" 
                                        Content="Refresh Controllers" 
                                        Click="RefreshControllers2_Click"
                                        Padding="10,5"
                                        Margin="0,10,0,0"/>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- About Tab -->
            <TabItem Header="About">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock Text="SimControlCentre" 
                                   FontSize="24" 
                                   FontWeight="Bold" 
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,10"/>
                        
                        <TextBlock Text="Version 1.0.0" 
                                   FontSize="14" 
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,20"/>
                        
                        <TextBlock Text="GoXLR Control via Hotkeys and Controllers" 
                                   FontSize="12" 
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,30"/>
                        
                        <TextBlock Text="Configuration File:" 
                                   FontSize="11" 
                                   Foreground="Gray"
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,5"/>
                        <TextBlock Name="ConfigPathText"
                                   FontSize="10" 
                                   Foreground="Gray"
                                   HorizontalAlignment="Center"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center"
                                   MaxWidth="600"/>
                        
                        <Button Name="OpenConfigFolderBtn"
                                Content="Open Config Folder"
                                Click="OpenConfigFolder_Click"
                                Padding="10,5"
                                Margin="0,10,0,0"
                                HorizontalAlignment="Center"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</Window>


